<div class="auth-login">
  <div class="login-content">
    <div class="login-content-left">
      <img class="logo" src="./assets/images/login-logo.png" />

      <h3>تفعيل الحساب</h3>
      <p>قم بإنشاء كلمة المرور الخاصة بك لتفعيل الحساب</p>
      <!-- <div class="timer"></div> -->
      <div class="image">
        <img src="./assets/images/forget-Password.svg" alt="" />
      </div>
      <form [formGroup]="form" (ngSubmit)="submit()">
        <!-- ------------------------- -->
        <!-- Password -->
        <!-- ------------------------- -->
        <div class="input-field">
          <label for="password">كلمة المرور
            <span>*</span>
          </label>
          <div class="input-icon">
            <div><img src="./assets/icons/password.svg" /></div>
            <input id="password" [type]="inputTypePassword" placeholder="أدخل كلمة المرور"
              formControlName="newPassword" />
            <div (click)="onShowPassword()" class="show-password">
              <img *ngIf="!showPassword" src="./assets/icons/show-password.svg" />
              <img *ngIf="showPassword" src="./assets/icons/unshow-password.svg" />
            </div>
          </div>
          <!-- ------------------------- -->
          <!-- VALIDATIONS -->
          <!-- ------------------------- -->
          <div class="validations">
            <small [ngClass]="
                formControll.newPassword.value?.match('.{8,}')
                  ? 'green'
                  : 'gary'
              ">
              <i [ngClass]="
                  formControll.newPassword.value?.match('.{8,}')
                    ? 'fa-solid fa-circle-check '
                    : 'fa-solid fa-circle-xmark  '
                "></i>كلمة المرور يجب ألا تقل عن 8 خانات
            </small>
            <small [ngClass]="
                formControll.newPassword.value?.match(
                  '(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])'
                )
                  ? 'green'
                  : 'gary'
              ">
              <i [ngClass]="
                  formControll.newPassword.value?.match(
                    '(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])'
                  )
                    ? 'fa-solid fa-circle-check '
                    : 'fa-solid fa-circle-xmark  '
                "></i>يجب أن تحتوى على حروف وأرقام Aa123
            </small>
            <small [ngClass]="
                formControll.newPassword.value?.match('(?=.*[!@#$%^&*])')
                  ? 'green'
                  : 'gary'
              ">
              <i [ngClass]="
                  formControll.newPassword.value?.match('(?=.*[!@#$%^&*])')
                    ? 'fa-solid fa-circle-check '
                    : 'fa-solid fa-circle-xmark  '
                "></i>يجب أن تحتوى على علامات خاصة (@#/)
            </small>
          </div>
        </div>
        <!-- ------------------------- -->
        <!-- Confirm Password -->
        <!-- ------------------------- -->
        <div class="input-field">
          <label for="password">
            تأكيد كلمة المرور
            <span>*</span>
          </label>
          <div class="input-icon">
            <div><img src="./assets/icons/password.svg" /></div>
            <input id="password" [type]="inputTypeConfirmPassword" placeholder=" أدخل كلمة المرور مجددا"
              formControlName="confirmPassword" />
            <div (click)="onShowConfirmPassword()" class="show-password">
              <img *ngIf="!showConfirmPassword" src="./assets/icons/show-password.svg" />
              <img *ngIf="showConfirmPassword" src="./assets/icons/unshow-password.svg" />
            </div>
          </div>
          <!-- ------------------------- -->
          <!-- VALIDATIONS -->
          <!-- ------------------------- -->
          <div *ngIf="
              formControll.confirmPassword.valid &&
              (formControll.confirmPassword.untouched ||
                formControll.confirmPassword.dirty)
            ">
            <small [ngClass]="
                formControll.newPassword.value ===
                formControll.confirmPassword.value
                  ? 'green'
                  : 'gray'
              ">
              <i style="margin-left: 8px" [ngClass]="
                  formControll.newPassword.value ===
                  formControll.confirmPassword.value
                    ? 'fa-solid fa-circle-check'
                    : 'fa-solid fa-circle-xmark '
                "></i>
              {{
              formControll.newPassword.value ===
              formControll.confirmPassword.value
              ? "كلمة السر متطابقة"
              : "كلمة السر غير متطابقة"
              }}
            </small>
          </div>
        </div>
        <button type="submit" [disabled]="
            form.invalid ||
            formControll.newPassword.value !==
              formControll.confirmPassword.value
          ">
          تفعيل الحساب
        </button>
      </form>
    </div>
  </div>
</div>
<!-- -------------------------------------- -->
<!-- SWEET ALERTS -->
<!-- -------------------------------------- -->
<!-- ERROR -->
<app-sweet-alert-message *ngIf="errorAlert" (confirmMessage)="errorFunction($event)" [data]="{
    type: 'error',
    text: 'يبدو أنه قد حدث خطأ ما، من فضلك أعد المحاولة مجددًا',
    buttonText: ''
  }"></app-sweet-alert-message>

<!-- SUCCESS DELETE -->
<app-sweet-alert-message *ngIf="successAlert" (confirmMessage)="successFunction($event)" [data]="{
    type: 'success',
    text: 'تم تفعيل الحساب بنجاح',
    buttonText: 'يمكنك المتابعة'
  }"></app-sweet-alert-message>
