<!-- Loading state -->
<div *ngIf="isLoading" class="flex items-center justify-center h-96">
  <div class="text-center">
    <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-teal-600 mx-auto mb-4"></div>
    <p class="text-gray-600">جاري تحميل المباني...</p>
  </div>
</div>

<!-- No buildings with URLs available -->
<div *ngIf="!isLoading && buildingLayers.length === 0" class="flex items-center justify-center h-96">
  <div class="text-center">
    <i class="fas fa-building text-4xl text-gray-300 mb-4"></i>
    <p class="text-gray-500 font-medium">لا توجد مباني متاحة للعرض</p>
    <p class="text-gray-400 text-sm">تأكد من وجود روابط النماذج ثلاثية الأبعاد للمباني</p>
  </div>
</div>

<!-- Geolocation dialog with dynamic building layers -->
<app-geolocation-dialog
  *ngIf="!isLoading && buildingLayers.length > 0"
  [actions]="actions"
  [layers]="buildingLayers"
  (on3dObjectClick)="on3dObjectClick($event)" >
</app-geolocation-dialog>

<!-- Debug info (remove in production) -->
<!-- <div *ngIf="!isLoading" class="mt-4 p-4 bg-gray-100 rounded-lg">
  <h3 class="font-semibold mb-2">معلومات التصحيح:</h3>
  <p class="text-sm text-gray-600 mb-2">
    إجمالي المباني: {{ buildingsList.length }}
  </p>
  <p class="text-sm text-gray-600 mb-2">
    المباني مع نماذج ثلاثية الأبعاد: {{ buildingLayers.length }}
  </p> -->

  <!-- List of buildings without URLs -->
  <!-- <div *ngIf="buildingsList.length > buildingLayers.length" class="mt-2">
    <p class="text-sm text-orange-600 font-medium">مباني بدون نماذج ثلاثية الأبعاد:</p>
    <ul class="text-xs text-gray-500 mt-1">
      <li *ngFor="let building of buildingsList">
        <span *ngIf="!building.url">{{ building.name }} (ID: {{ building.id }})</span>
      </li>
    </ul>
  </div>
</div> -->
