<!-- ============================= -->
<!-- BREAD CRUMB -->
<!-- ============================= -->

<app-bread-crumb-report [imageTitle]="'./assets/images/orbit.svg'" [isFilte]="true"
  [inputPlaceholder]="' ابحث بإسم المشروع، رقم المشروع'" [buttonText]=" ' تحميل التقارير' " [isShowAddEdite]="false"
  [isShowFilter]="showBreadcrumb ? false : true" (onFilterClick)="onShowFilterPopup()"
  (valueSearch)="filterBySearchText($event)" (addButton)="exportReport($event,{})"
  (BackButton)="BackButton()"></app-bread-crumb-report>

<iframe [src]="pdfSrc" width="100%" height="950px" *ngIf="pdfSrc"></iframe>

<!-- ============================= -->
<!-- POPUP FILTER-->
<!-- ============================= -->

<div class="overlay" *ngIf="showFilterPopup">
  <div class="popup">
    <div class="title">
      <img src="./assets/icons/search-filter.svg" />
      <p>تصفية تقارير المشاريع</p>
    </div>

    <form [formGroup]="filterForm">
      <!-- ---------------------------------------------------------------- -->
      <!-- ------------------TWO INPUTS FIELDS----------------------------- -->
      <!-- ---------------------------------------------------------------- -->
      <div class="two-inputs-fields">
        <div class="input-field">
          <label for="main-building"> النوع </label>
          <div class="field-icon">
            <img src="./assets/icons/select-main-building-icon.svg" />

            <p-dropdown class="w-full" [styleClass]="'w-full bg-filterBtnBg'" optionLabel="name" optionValue="id"
              placeholder="اختر  النوع" formControlName="ProjectTypeId" [options]="typeLookup" [filter]="true"
              [filterBy]="'name'"></p-dropdown>
          </div>
        </div>
        <div class="input-field">
          <label for="main-building"> الحالة </label>
          <div class="field-icon">
            <img src="./assets/icons/select-main-building-icon.svg" />

            <p-dropdown class="w-full" [styleClass]="'w-full bg-filterBtnBg'" optionLabel="name" optionValue="id"
              placeholder="اختر  الحالة" formControlName="ProjectStatueId" [options]="projectStatusList" [filter]="true"
              [filterBy]="'name'"></p-dropdown>
          </div>
        </div>
      </div>
      <!-- ---------------------------------------------------------------- -->
      <!-- ------------------TWO INPUTS FIELDS----------------------------- -->
      <!-- ---------------------------------------------------------------- -->
      <div class="two-inputs-fields">
        <div class="input-field">
          <label for=""> التصنيف</label>
          <p-dropdown class="w-full" [styleClass]="'w-full bg-filterBtnBg py-3'" [style]="{
              background:
                'url(./assets/icons/types-icon-fill.svg) no-repeat right 10px center',
              'background-color': '#f6f6f6',
              'padding-right': '35px'
            }" optionLabel="name" optionValue="id" placeholder=" اختر تصنيف المشروع "
            formControlName="ProjectClassificationId" [options]="projectClassificationList"></p-dropdown>
          <!-- -------------------------------- -->
          <!-- -------------------------------- -->
        </div>
        <div class="input-field">
          <label for=""> الغرفة</label>
          <p-dropdown class="w-full" [styleClass]="'w-full bg-filterBtnBg py-3'" [style]="{
              background:
                'url(./assets/icons/userIcon.svg) no-repeat right 10px center',
              'background-color': '#f6f6f6',
              'padding-right': '35px'
            }" optionLabel="name" optionValue="id" placeholder="اختر  الغرفة" formControlName="OfficeId"
            [options]="officeList"></p-dropdown>
        </div>
      </div>
      <!-- ---------------------------------------------------------------- -->
      <!-- ------------------TWO INPUTS FIELDS----------------------------- -->
      <!-- ---------------------------------------------------------------- -->
      <div class="two-inputs-fields">
        <div class="input-field">
          <label for="main-building"> تاريخ تسليم الموقع </label>
          <div class="field-icon">
            <p-calendar [placeholder]="'اختر تاريخ تسليم الموقع '"
              class="mt-2 bg-gray-100 rounded-lg outline-none w-full" formControlName="startDate"
              [styleClass]="'w-full h-12'" [inputStyleClass]="'bg-gray-100'" [showIcon]="true"
              selectionMode="range"></p-calendar>
          </div>
        </div>
        <div class="input-field">
          <label for="main-building"> تاريخ الإستلام النهائي </label>
          <div class="field-icon">
            <p-calendar [placeholder]="'اختر تاريخ الإستلام النهائي '"
              class="mt-2 bg-gray-100 rounded-lg outline-none w-full" formControlName="deliveryDate"
              [styleClass]="'w-full h-12'" [inputStyleClass]="'bg-gray-100'" [showIcon]="true"
              selectionMode="range"></p-calendar>
          </div>
        </div>
      </div>
      <!-- =======================BUTTONS================== -->
      <div class="buttons-content">
        <button class="buttons" type="button" (click)="popupFilter()">
          تصفية
        </button>
        <button class="buttons-white" type="button" (click)="closePopupFilter()">
          إعادة ضبط
        </button>
      </div>
    </form>
  </div>
</div>